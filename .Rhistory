g_states_sd = geom_polygon(data = states_poly, aes(long, lat, group = group), color = gray(0, alpha = 0.15), fill = rgb(0, 0, 0, 0))
# The few values at the high and low ends distort the color scale
# Legend labels and breaks:
range(sd_winter_tmin[], na.rm = T)
breaks_sd = c( 1.2, 6, 10, 14)
# Legend color bar options:
gd_sd =  guides(fill = guide_colourbar(title = "S.D."))
t1 = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
t1_sd = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols = c(cf_blue(10), cf_red(15))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_mean, labels = breaks_mean)
map_scale = 1
map_scale = 1
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
boxplot(sd_winter_tmin[])
maxpixels = 5e5
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
maxpixels = 1e5
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
maxpixels = 1e4
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
maxpixels = 5e4
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(5))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_mean, labels = breaks_mean)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_mean, labels = breaks_mean)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(35))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_mean, labels = breaks_mean)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_mean_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
# The few values at the high and low ends distort the color scale
# Legend labels and breaks:
range(sd_winter_tmin[], na.rm = T)
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
cols = c(cf_blue(10), cf_red(5))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(8))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
maxpixels = 1e5
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(12))
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(32))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(10), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
# It's very right skewed
breaks_sd = c( 1.3, 6, 10, 14)
# Legend color bar options:
gd_sd =  guides(fill = guide_colourbar(title = "S.D."))
t1_sd = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols = c(cf_blue(10), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
# It's very right skewed
breaks_sd = c( 1.5, 6, 10, 14)
# Legend color bar options:
gd_sd =  guides(fill = guide_colourbar(title = "S.D."))
t1_sd = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols = c(cf_blue(10), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
maxpixels = 5e6
# Standard deviation plot -------------------
# The raster plot objects:
gp_sd = gplot(sd_winter_tmin, maxpixels = maxpixels)
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Mean winter lowest temperature", subtitle = "1980 - 2016")
# It's very right skewed
breaks_sd = c( 1.5, 6, 10, 13)
# Legend color bar options:
gd_sd =  guides(fill = guide_colourbar(title = "S.D."))
t1_sd = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols = c(cf_blue(10), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
cols = c(cf_blue(8), cf_red(25))
sc_sd_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
map_scale = 1
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
png(file = "figures/winter_tmin_sd_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
dev.off()
map_scale
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/winter_tmin_sd_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sd + gd_sd + g_rast + sc_sd_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
dev.off()
# Plot pine kill sums ---------------
min(pine_sum[], na.rm = T)
summary(pine_sum[])
boxplot(pine_sum[])
# remove those with values of < 1, since this causes issues with log scaling
pine_gg_sum = pine_sum + 1
# Truncate above a cutoff
p_cutoff = 2e4
# remove those with values of < 1, since this causes issues with log scaling
pine_gg_sum = pine_sum + 1
# Truncate above a cutoff
p_cutoff = 2e4
sum(pine_gg_sum[] >= p_cutoff, na.rm = T)
sum(pine_gg_sum[] > 0, na.rm = T)
pine_gg_sum[pine_gg_sum >= p_cutoff] = p_cutoff
gp_sum = gplot(pine_gg_sum, maxpixels = 5e5)
lab_p =  guides(fill = guide_legend(title = "Pines\nkilled\nper\ncell"))
lab_p2 =  guides(colour = guide_legend(title = "Pines\nkilled\nper\ncell"))
lab_p =  guides(fill = guide_legend(title = "sum"))
lab_p2 =  guides(colour = guide_legend(title = "sum"))
max(pine_sum[], na.rm = T)
# Some nice levels for the legend:
max(pine_sum[], na.rm = T)
scale_upper = plyr::round_any(max(pine_gg_sum[], na.rm = T), 1e4)
p_breaks = plyr::round_any(exp(seq(from = log(10), to = log(scale_upper), len = 4)), 100)
p_breaks[1] = 10
p_labels = p_breaks
p_labels[length(p_labels)] = paste0(tail(p_breaks, 1), "+")
sc_col_p = scale_fill_gradientn(colours = heat.colors(10), na.value = rgb(0, 0, 0, 0), trans = "log", breaks = p_breaks, labels = p_labels)
sc_col_p = scale_fill_gradientn(colours = heat.colors(10), na.value = rgb(0, 0, 0, 0), trans = "log", breaks = p_breaks)
t1 = theme(axis.title = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), panel.background = element_blank())
map_scale = 1
gp_sum + sc_col_p + g_st + t1 + g_rast + lab_p
gp_sum + sc_col_p + g_st + title_scale(map_scale) + g_rast + lab_p
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols_pine = c(cf_red(25))
sc_pine_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
# Some nice levels for the legend:
max(pine_sum[], na.rm = T)
scale_upper = plyr::round_any(max(pine_gg_sum[], na.rm = T), 1e4)
p_breaks = plyr::round_any(exp(seq(from = log(10), to = log(scale_upper), len = 4)), 100)
p_breaks[1] = 10
p_labels = p_breaks
p_labels[length(p_labels)] = paste0(tail(p_breaks, 1), "+")
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
# Legend color bar options:
gd_pine =  guides(fill = guide_colourbar(title = "Sum"))
t1_pine = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red = colorRampPalette(c(rgb(1, 0.75, 0.75), rgb(1, 0.5, 0.5), rgb(1, 0, 0), rgb(0.65, 0, 0), rgb(0.2, 0, 0)))
cf_blue = colorRampPalette(c(rgb(0, 0, 0.2), rgb(0, 0, 1), rgb(0.5, 0.5, 1), rgb(0.75, 0.75, 1)))
cols_pine = c(cf_red(25))
sc_pine_cf = scale_fill_gradientn(colours = cols, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
# Some nice levels for the legend:
max(pine_sum[], na.rm = T)
scale_upper = plyr::round_any(max(pine_gg_sum[], na.rm = T), 1e4)
p_breaks = plyr::round_any(exp(seq(from = log(10), to = log(scale_upper), len = 4)), 100)
p_breaks[1] = 10
p_labels = p_breaks
p_labels[length(p_labels)] = paste0(tail(p_breaks, 1), "+")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0), breaks = breaks_sd, labels = breaks_sd)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0), breaks = p_breaks, levels = p_levels)
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0), breaks = p_breaks, labels = p_labels)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0), breaks = p_breaks, labels = p_labels, transform = "log")
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Standard deviation winter lowest temperature", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
rgb(1, 0.5, 0.5),
rgb(1, 0, 0),
rgb(0.65, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
rgb(1, 0.5, 0.5),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
# rgb(1, 0.75, 0.75),
rgb(1, 0.5, 0.5),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
# rgb(1, 0.5, 0.5),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
rgb(1, 0.35, 0.35),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
gp_sum = gplot(pine_gg_sum, maxpixels = 6e6)
# Some nice levels for the legend:
max(pine_sum[], na.rm = T)
scale_upper = plyr::round_any(max(pine_gg_sum[], na.rm = T), 1e4)
p_breaks = plyr::round_any(exp(seq(from = log(10), to = log(scale_upper), len = 4)), 100)
p_breaks[1] = 10
p_labels = p_breaks
p_labels[length(p_labels)] = paste0(tail(p_breaks, 1), "+")
# Legend color bar options:
gd_pine =  guides(fill = guide_colourbar(title = "Sum"))
t1_pine = theme(legend.key.height = unit(0.1, "npc"), legend.key.width = unit(0.05, "npc"))
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
rgb(1, 0.35, 0.35),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
rgb(1, 0.75, 0.75),
rgb(1, 0.35, 0.35),
rgb(1, 0.05, 0.05),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cols_pine = c(cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1 + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
# The state borders should be more prominent than in the other plots
g_states_pine = geom_polygon(data = states_poly, aes(long, lat, group = group), color = gray(0, alpha = 0.25), fill = rgb(0, 0, 0, 0))
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_sd + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red_blue.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
dev.off()
plot(1, col = rgb(1, 1, 0))
plot(1, col = rgb(1, 0.5, 0))
plot(1, col = rgb(0.5, 0.5, 0))
plot(1, col = rgb(0.5, 0.5, 0), pch = 16, cex = 4)
plot(1, col = rgb(1, 0.5, 0), pch = 16, cex = 4)
plot(1, col = rgb(1, 0.25, 0), pch = 16, cex = 4)
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cf_yellow_pine = colorRampPalette(c(
rgb(1, 1, 0),
rgb(1, 0.5, 0)))
cf_yellow_pine = colorRampPalette(c(
rgb(1, 1, 0),
rgb(1, 0.5, 0)))
cols_pine_2 = c(cf_red_pine(25), cf_yellow_pine(3))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(25))
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
# rgb(1, 0.75, 0.75),
# rgb(1, 0.35, 0.35),
rgb(1, 0.05, 0.05),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cf_yellow_pine = colorRampPalette(c(
rgb(1, 1, 0),
rgb(1, 0.5, 0)))
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
cols_pine_2 = c(cf_yellow_pine(8), cf_red_pine(25))
gp_sum = gplot(pine_gg_sum, maxpixels = 1e6)
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
# rgb(1, 0.75, 0.75),
# rgb(1, 0.35, 0.35),
rgb(1, 0.05, 0.05),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cf_yellow_pine = colorRampPalette(c(
rgb(1, 1, 0),
rgb(1, 0.5, 0)))
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
cols_pine_2 = c(cf_yellow_pine(8), cf_red_pine(25))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cols_pine_2 = c(cf_yellow_pine(8), cf_red_pine(15))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
# rgb(1, 0.75, 0.75),
# rgb(1, 0.35, 0.35),
# rgb(1, 0.05, 0.05),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cf_yellow_pine = colorRampPalette(c(
rgb(1, 1, 0),
rgb(1, 0.5, 0)))
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
cols_pine_2 = c(cf_yellow_pine(8), cf_red_pine(15))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(5))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(8))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cf_yellow_pine = colorRampPalette(c(
rgb(1, 0.8, 0),
rgb(1, 0.5, 0)))
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(8))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(12))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
map_scale = 3
# Custom red and blue color ramps
cf_red_pine = colorRampPalette(c(
# rgb(1, 0.75, 0.75),
# rgb(1, 0.35, 0.35),
# rgb(1, 0.05, 0.05),
rgb(1, 0, 0),
rgb(0.35, 0, 0)))
cf_yellow_pine = colorRampPalette(c(
rgb(1, 0.5, 0),
rgb(1, 0.2, 0))
)
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(12))
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
map_scale = 1
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
cf_yellow_pine = colorRampPalette(c(
rgb(1, 0.3, 0),
rgb(1, 0.15, 0))
)
plot(1, col = rgb(1, 0.75, 0), pch = 16, cex = 4)
cols_pine = c(cf_red_pine(25))
sc_pine_cf_2 = scale_fill_gradientn(
colours = cols_pine_2, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
cols_pine_2 = c(cf_yellow_pine(5), cf_red_pine(12))
map_scale = 1
sc_pine_cf = scale_fill_gradientn(
colours = cols_pine, na.value = rgb(0, 0, 0, 0),
breaks = p_breaks, labels = p_labels, trans = "log")
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
gp_sum = gplot(pine_gg_sum, maxpixels = 6e6)
map_scale = 3
width_png = 0.95 * height_png
png(file = "figures/cumulative_pine_kill_red_orange.png", width = width_png * map_scale, height = height_png * map_scale)
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
png(file = "figures/cumulative_pine_kill_red_orange.png", width = width_png * map_scale, height = height_png * map_scale)
# gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
gp_sum + gd_pine + g_rast + sc_pine_cf_2 + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
dev.off()
gp_sum + gd_pine + g_rast + sc_pine_cf + g_states_pine + title_scale(map_scale) + coord_fixed() + t1_pine + ggtitle("Cumulative pines killed", subtitle = "1980 - 2016")
